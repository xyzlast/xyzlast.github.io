<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>02.팀 단위의 개발 환경 | Programming is Fun | Still waters run deep. When the well&#39;s dry, we know the worth of water.</title>

  
  <meta name="author" content="ykyoon">
  

  
  <meta name="description" content="팀 단위의 개발 환경개발을 할때는 환경이 매우 중요합니다. 개발 환경을 팀의 관점으로 볼때는 단순히 업무 흐름만을 보는것은 너무 옛날 이야기가 되었습니다.이제 팀 단위의 개발환경에서 거의 필수가 된 항목들은 다음과 같습니다.

코드 관리 시스템
이슈 관리 시스템
자동 ">
  

  
  
  <meta name="keywords" content="study">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="02.팀 단위의 개발 환경"/>

  <meta property="og:site_name" content="Programming is Fun"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Programming is Fun" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Programming is Fun</a>
    </h1>
    <p class="site-description">Still waters run deep. When the well&#39;s dry, we know the worth of water.</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>02.팀 단위의 개발 환경</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/02/01/02-developEnd/" rel="bookmark">
        <time class="entry-date published" datetime="2018-02-01T03:42:56.000Z">
          2018-02-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="팀-단위의-개발-환경"><a href="#팀-단위의-개발-환경" class="headerlink" title="팀 단위의 개발 환경"></a>팀 단위의 개발 환경</h1><p>개발을 할때는 환경이 매우 중요합니다. 개발 환경을 팀의 관점으로 볼때는 단순히 업무 흐름만을 보는것은 너무 옛날 이야기가 되었습니다.<br>이제 팀 단위의 개발환경에서 거의 필수가 된 항목들은 다음과 같습니다.</p>
<ul>
<li>코드 관리 시스템</li>
<li>이슈 관리 시스템</li>
<li>자동 빌드 시스템</li>
<li>Code Review 시스템</li>
<li>자동 배포 시스템</li>
<li>로컬 개발 서버(DB 포함) - 개발자 PC</li>
<li>테스트 서버 (DB 포함)</li>
<li>배포 서버 (DB 포함)</li>
</ul>
<p>각 시스템이 유동적으로 연결되어 하나의 프로젝트가 완성이 되는 것이 일반적입니다.<br>먼저, 간단한 예를 들어보기로 하겠습니다. 여기 신입 개발자 A군과 고참 개발자 B양이 있습니다.</p>
<blockquote>
<p>B양은 이슈 관리 시스템을 통해서 자신의 팀에 주어진 일들을 확인합니다. 그리고 간단한 팀 미팅을 통해 서로간에 지금 어제 어떤 일을 했고, 오늘 어떤 일을 할 것이며, 오늘 이슈 사항이 무엇이 있는지를 파악합니다. 파악한 후, 추가로 들어온 일이 있는 경우에 그 사항을 이슈 관리시스템이 등록 또는 수정을 하고 담당자를 A군으로 지정합니다.</p>
<p>A군은 이슈 관리 시스템을 통해서 자신에게 주어진 일을 확인합니다. 그리고, 이미 분석된 업무이고, 바로 개발을 들어가게 됩니다. 먼저 코드 관리 시스템에서 소스를 최신의 것으로 Update 받습니다. 받은 Source의 History를 파악하고, DB schema의 변경사항이 있는 경우, 자신의 개발 환경에 반영을 하고 코딩을 시작합니다.</p>
<p>A군은 코딩을 열심히 해서 일을 마쳤습니다. 그리고, 소스를 코드관리 시스템에 commit을 진행합니다. 소스관리 시스템은 commit된 코드가 있음을 관리자에게 알립니다.</p>
<p>B양은 A군의 코딩 내용을 보고 Code Review를 진행합니다. 맘에 안들면 불러다가, 또는 email로 깨고, reject 시킵니다. 그렇게 되면 이 코드는 반영되지 않게 됩니다.</p>
<p>A군은 다시 코딩을 합니다. 지적 받은 사항에 대해서 다시 고치고, 다시 commit을 합니다.</p>
<p>B양은 A군의 코드를 review하면서 흐뭇해하면서 코드를 accept합니다. accept된 코드는 이제 자동 빌드 시스템으로 넘어갑니다.</p>
<p>A군은 자신이 한 일에 대해서 이슈 관리 시스템에 일의 진행정도를 알리고, 완료를 시킵니다. 물론 약간의 문서 작업도 진행합니다.</p>
<p>자동빌드 시스템은 열심히 코드를 build하고, 자동화된 test code를 모두 실행하고 그 결과를 팀원 전체에게 email로 알립니다.</p>
<p>test code가 모두 완료되면 build한 결과를 테스트 서버에 배포하게 됩니다. 이제 테스트 서버를 통해서 QC 팀들이 개발팀의 결과를 검증하게 됩니다.</p>
<p>QA 팀이 검증을 모두 마쳤습니다. 자동 배포 시스템을 통해서 실제 동작하는 서비스로 배포하게 됩니다. (모두들 수고하셨습니다.)</p>
</blockquote>
<p>이러한 과정을 거치게 되는 것이 일반적인 개발회사에서의 흐름입니다. 그리고 계속되는 통합 과정을 통해, 코드의 품질을 계속해서 높이는 과정을 하게 됩니다. 그러나… 불행히도 저희 회사는 저기 위에 있는 시스템중 반도 존재하지 않습니다.</p>
<p>실질적인 예가 아닌, 이제 좀더 본격적인 설명에 들어가보도록 하겠습니다.</p>
<h2 id="코드-관리-시스템-Repository"><a href="#코드-관리-시스템-Repository" class="headerlink" title="코드 관리 시스템 (Repository)"></a>코드 관리 시스템 (Repository)</h2><p>주로 사용되는 것은 svn과 요즘 인기를 끌고 있는 git가 있습니다. 기능으로는 code의 중앙 저장소 및 source 변경에 대한 history 관리 기능과 sync, merge 등이 있습니다.<br>저희가 자주 사용하고 있지만, 조금은 다르게 사용하고 있는것 같긴 합니다. 주 기능은 code의 저장입니다. 그렇지만, 그 이상으로 중요하다고 생각되는 기능은 code의 history입니다. 어느날 갑자기 code를 받아보니 변경사항이 있었고, 그 내용이 왜, 그리고 무엇이 변경된것인지 모른다면 예전에 code를 usb같은것으로 카피해서 주는것과 차이가 없습니다. 코드를 변경했으면, 그 code를 왜 변경했는지에 대한 log를 적어주는 것이 이 시스템을 보다 더 잘 쓰는 방법입니다.</p>
<h2 id="이슈-관리-시스템"><a href="#이슈-관리-시스템" class="headerlink" title="이슈 관리 시스템"></a>이슈 관리 시스템</h2><p>많은 이슈 관리 시스템이 존재합니다. 대표적인것으로 무료로 배포되는 것들은 trac, jtrac, redmine, bugzillar 등이 있으며 상용은 jira가 있습니다. 상용으로 판매되는 jira는 정말 좋습니다. 개인적으론 구매를 해서 사용해보고 싶은 욕심이 무척 많이 듭니다. ㅠㅠ<br>코드 관리시스템이 코드에 대한 중앙 집중형 관리라면, 이슈 관리 시스템은 왜 그 코드를 작성하게 되었는지. 우리가 프로젝트를 완료하기 위해서는 앞으로 어떤 일들을 해야지 되는지. 그리고 지금까지 우리가 어떤 일을 해왔는지에 대한 “일, 작업, Issue, Task”에 대한 기록을 남기는 장소입니다. 이슈 관리 시스템은 코드 관리 시스템과 연동되어 코드의 변경사항이 어떤 이슈와 관련이 있는지까지 같이 보여줄 수 있습니다. 또한, 대부분의 코드 관리 시스템은 wiki라는 문서 작업 공간을 같이 제공합니다. wiki를 통해 서로간에 공유할 수 있는 내용을 기록하는 것이 가능합니다.</p>
<p><img src="images/02/wiki.jpg" alt=""></p>
<h2 id="자동-빌드-시스템-자동-배포-시스템"><a href="#자동-빌드-시스템-자동-배포-시스템" class="headerlink" title="자동 빌드 시스템, 자동 배포 시스템"></a>자동 빌드 시스템, 자동 배포 시스템</h2><p>이 두개의 시스템은 거의 하나로 만들어져서 사용됩니다. 이를 CI 시스템이라고 하며, hudson, jenkins와 jetBrains 사의 TeamCity가 유명합니다. CI가 CI 가 하는 일은 소스 관리 시스템과 연결되어 commit된 소스가 있는 경우, 자신이 다운받아 build 후, test code를 실행하고 그 결과를 report로 남기는 일을 반복합니다.또한 build 결과 또는 수동으로 실서버 또는 개발서버에 배포를 할 수 있기때문에 신속하고 중지 되지 않는 통합을 가능하게 하고 있습니다.</p>
<p><img src="images/02/jenkins.png" alt=""><br><img src="images/02/jenkins2.png" alt=""></p>
<p>CI에 대하여 조금 더 알아보도록 하겠습니다.</p>
<p>다음은 CI의 기본 동작 Process를 나타내고 있습니다.</p>
<ul>
<li>Commit source code : 개발자가 자신의 code 를 commit 한다</li>
<li>Unit Test : CI가 코드에 포함된 Unit Test code를 실행한다.</li>
<li>CPM ( Continiuous Performance Management) : Unit Test 결과를 기록하고, Unit test의 실행 시간등을 기록한다.</li>
<li>License check : 만약 코드 안에 상용 library등이 포함되어 있다면, license에 대한 check를 진행한다.</li>
<li>Build : Build 및 추가 파일 복사 작업 진행</li>
<li>Deploy : Test 환경으로의 배포 ( &gt; QI 영역)</li>
</ul>
<p><img src="/images/02/ci.png" alt=""></p>
<h2 id="Code-Review-System"><a href="#Code-Review-System" class="headerlink" title="Code Review System"></a>Code Review System</h2><p>약간은 옵션적인 시스템이지만, 많은 기업들이 채용하고 있는중인 Code Review System입니다. Code Review란 간단히 사용자의 자신의 Code를 코드 관리 시스템에 Commit을 할때, 중간 단계를 하나 거치게 하는 것입니다. 그 중간단계에서 상임 개발자들이 그 코드를 평가하고, 원활히 변경된 경우에 그 코드를 코드 관리 시스템에 반영하는 절차를 추가한 시스템입니다. CodeCollaboration 이 대표적 시스템입니다.</p>
<p><img src="/images/02/codeReview.png" alt=""></p>
<h2 id="로컬-개발-환경"><a href="#로컬-개발-환경" class="headerlink" title="로컬 개발 환경"></a>로컬 개발 환경</h2><p>개발자들은 자신의 로컬 개발 환경을 갖춰야지 됩니다.</p>
<p>그리고, 개발환경의 구축은 다음과 같은 문제가 발생하게 됩니다. 다양한 인프라를 동시에 사용해야지 되는 프로젝트를 행하게 될때입니다.</p>
<p><strong>STEP01. 이제 시작입니다</strong><br><img src="/images/02/step01.jpg" alt=""><br><strong>STEP02. 약간 커졌습니다. 이쯤이야</strong><br><img src="/images/02/step02.jpg" alt=""><br><strong>STEP03. 아라라. 힘들어집니다</strong><br><img src="/images/02/step03.jpg" alt=""><br><strong>STEP04. 이건 좀… 무리가…</strong><br><img src="/images/02/step04.jpg" alt=""></p>
<p>그렇다면 개발서버에 모든 것을 설치해두고 사용하면 어떨까요.<br>개발서버에 모든 것을 설치하고, 개발자들이 각각 붙어서 작업하는 경우 많은 것들이 해결되게 됩니다. 그런데, 이 역시 문제를 가지고 있습니다.</p>
<ul>
<li>버젼이 변경되는 경우에 서버의 DB Schema의 변경이 이루어지게 된다.</li>
<li>네트워크가 끊기는 경우, 개발 역시 STOP.(원격지에서의 개발이 힘듬)</li>
<li>하나의 개발자의 행동이 다른 개발자들에게 동시에 영향을 줄 수 있음(DB 값의 변경, Memory Server의 restart)</li>
</ul>
<p>이러한 문제가 발생되기 때문에 개발서버를 사용하는 방법은 이제 구시대적 방법이라고 할 수 있습니다. 실제로 조금 개발에 대해서 잘 나간다는 회사들은 대부분 개발서버를 통해서 개발하는 방법을 버리고 있는 것이 사실입니다. 그럼 어떤 방법을 사용할까요.</p>
<p>첫번째는 가상머신입니다.<br>가상머신을 배포해서 가상머신과 로컬머신간의 네트워크 연결을 통해서 사용하는 방법이 있습니다.</p>
<p>이는 매우 좋은 해결책이 될 수 있습니다. 버젼별 가상머신을 관리하면, 유지보수에도 많은 도움이 될 수 있으며 가상머신의 snapshot 기능을 이용하면 DB의 특정 상태로도 restore가 가능하게 되는 많은 장점들을 가지고 있습니다.</p>
<p>그런데, 이 방법의 최대 단점은 용량입니다. 윈도우 머신의 경우, 조금 설치해서 서버를 올리면 60기가는 우스운 용량이 나오게 됩니다. 그리고 memory를 많이 사용하기 때문에 performance 역시 떨어지게 되는 것이 사실입니다.</p>
<p>두번째, 아니 이제 정답을 찾아가게 되면 docker를 이용하는 방법입니다.<br>Docker image에 위 환경을 만들어두고, 그 환경을 이용해서 다들 같이 개발을 하는 것이 일반적입니다. Docker image에 변경이 생길 사항이 생기거나 Docker에 들어있는 DB내용에 변경이 생기게 되면, 그 변경을 image에 반영할지를 개발자들끼리 결정을 하고, 그 변경이 반영된 image를 다시 배포하는 식으로 서로간의 개발단의 구성을 완벽하게 맞추어 개발을 진행합니다. Docker에 대해서는 개별 공부가 좀 더 필요할 것 같습니다.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>개발환경은 <em>팀단위 개발환경</em>, <em>개인 개발환경</em>으로 나눌수 있습니다.<br><em>팀단위의 개발환경</em>은 개발프로세스에 따라 시스템적으로 지원이 되는 것이 일반적입니다. 이는 사내의 문화로 사용이 발전이 가능한 것으로 서로간에 논의해가야지 될 문제입니다.<br><em>개인 개발환경</em> 역시 팀에서 어떤 개발 프로세스로 진행할지에 따라 선택되는 방법의 차이가 있습니다. 개인적으로는 Docker 또는 가상서버를 통한 개발환경이 개발자들에게 도움이 될 것이라고 생각하는 편입니다. 이 부분에 대해서는 많은 논의가 필요할 것 같습니다.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/study/">study</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 ykyoon
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>